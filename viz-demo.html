<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FinVerse å¯è§†åŒ– Demo</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0e17;--bg2:#111827;--bg3:#1a2540;--accent:#00d4aa;--accent2:#6366f1;--accent3:#f59e0b;--red:#ef4444;--text:#e2e8f0;--text2:#8b9dc3;--border:#1e2d4a;--green:#10b981;--up:#10b981;--down:#ef4444}
body{font-family:-apple-system,BlinkMacSystemFont,'SF Pro',sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}

/* Mode Switcher */
.mode-bar{position:sticky;top:0;z-index:100;background:rgba(10,14,23,0.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0.8rem 2rem;display:flex;justify-content:space-between;align-items:center}
.mode-tabs{display:flex;gap:0.5rem}
.mode-tab{padding:0.5rem 1.2rem;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text2);cursor:pointer;font-size:0.85rem;transition:all 0.3s}
.mode-tab.active{background:rgba(0,212,170,0.15);border-color:var(--accent);color:var(--accent)}
.mode-tab:hover{border-color:var(--accent)}
.page-title{font-size:0.9rem;color:var(--text2)}
.asset-selector{display:flex;gap:0.5rem;align-items:center}
.asset-btn{padding:0.3rem 0.8rem;border-radius:6px;border:1px solid var(--border);background:transparent;color:var(--text2);cursor:pointer;font-size:0.8rem;transition:all 0.3s}
.asset-btn.active{background:var(--bg3);color:var(--text);border-color:var(--accent)}

/* Container */
.container{max-width:1400px;margin:0 auto;padding:1.5rem}

/* ============ SUMMARY MODE ============ */
.summary-mode .hero-card{background:var(--bg2);border:1px solid var(--border);border-radius:16px;padding:2rem;margin-bottom:1.5rem;position:relative;overflow:hidden}
.signal-badge{position:absolute;top:1.5rem;right:1.5rem;padding:0.4rem 1.2rem;border-radius:20px;font-weight:700;font-size:0.9rem}
.signal-bearish{background:rgba(239,68,68,0.15);color:var(--red);border:1px solid rgba(239,68,68,0.3)}
.signal-bullish{background:rgba(16,185,129,0.15);color:var(--green);border:1px solid rgba(16,185,129,0.3)}
.hero-price{font-size:3rem;font-weight:800;margin-bottom:0.3rem}
.hero-change{font-size:1.1rem;margin-bottom:1.5rem}
.hero-summary{font-size:1.05rem;line-height:1.8;color:var(--text2);max-width:600px}
.hero-summary strong{color:var(--text)}
.signal-bars{display:flex;gap:1.5rem;margin-top:2rem;flex-wrap:wrap}
.signal-item{flex:1;min-width:150px;background:var(--bg);border:1px solid var(--border);border-radius:10px;padding:1rem}
.signal-item .label{font-size:0.75rem;color:var(--text2);text-transform:uppercase;letter-spacing:1px;margin-bottom:0.5rem}
.signal-item .value{font-size:1.3rem;font-weight:700}
.signal-item .bar{height:6px;border-radius:3px;margin-top:0.5rem;background:var(--bg3)}
.signal-item .bar-fill{height:100%;border-radius:3px;transition:width 1s ease}

/* Quick alerts */
.alerts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;margin-bottom:1.5rem}
.alert-card{background:var(--bg2);border-radius:12px;padding:1.2rem;border-left:4px solid;transition:transform 0.2s}
.alert-card:hover{transform:translateX(4px)}
.alert-card.alert-red{border-left-color:var(--red)}
.alert-card.alert-yellow{border-left-color:var(--accent3)}
.alert-card.alert-green{border-left-color:var(--green)}
.alert-card .alert-title{font-weight:600;font-size:0.9rem;margin-bottom:0.3rem}
.alert-card .alert-desc{color:var(--text2);font-size:0.82rem}
.alert-card .alert-time{color:var(--text2);font-size:0.7rem;margin-top:0.5rem}

/* ============ CHART MODE ============ */
.chart-container{background:var(--bg2);border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-bottom:1.5rem}
.chart-toolbar{display:flex;justify-content:space-between;align-items:center;padding:0.8rem 1.2rem;border-bottom:1px solid var(--border);background:var(--bg3)}
.chart-toolbar .tf-tabs{display:flex;gap:0.3rem}
.chart-toolbar .tf{padding:0.3rem 0.6rem;border-radius:4px;font-size:0.75rem;color:var(--text2);cursor:pointer;border:none;background:transparent}
.chart-toolbar .tf.active{background:rgba(0,212,170,0.15);color:var(--accent)}
.layer-toggles{display:flex;gap:0.5rem}
.layer-toggle{display:flex;align-items:center;gap:0.3rem;font-size:0.75rem;color:var(--text2);cursor:pointer;padding:0.2rem 0.5rem;border-radius:4px;border:1px solid transparent;transition:all 0.3s}
.layer-toggle.active{border-color:currentColor}
.layer-toggle .dot{width:8px;height:8px;border-radius:50%}

/* Canvas */
.chart-canvas{position:relative;height:500px;padding:1rem;overflow:hidden}
.chart-canvas canvas{width:100%;height:100%}

/* AI Annotations */
.ai-annotations{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}
.annotation-point{position:absolute;pointer-events:all;cursor:pointer}
.annotation-dot{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.7rem;font-weight:700;animation:pulse 2s ease infinite}
.annotation-popup{position:absolute;bottom:30px;left:50%;transform:translateX(-50%);background:var(--bg3);border:1px solid var(--border);border-radius:10px;padding:0.8rem 1rem;width:280px;font-size:0.8rem;display:none;z-index:10;box-shadow:0 8px 30px rgba(0,0,0,0.5)}
.annotation-point:hover .annotation-popup{display:block}
.annotation-popup .reason{color:var(--text2);margin-top:0.3rem;line-height:1.5}
.annotation-popup .confidence{margin-top:0.5rem;font-size:0.7rem}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(0,212,170,0.4)}50%{box-shadow:0 0 0 10px rgba(0,212,170,0)}}
@keyframes pulse-red{0%,100%{box-shadow:0 0 0 0 rgba(239,68,68,0.4)}50%{box-shadow:0 0 0 10px rgba(239,68,68,0)}}

/* Support/Resistance zones */
.zone{position:absolute;left:0;right:0;opacity:0.15;pointer-events:none}
.zone-label{position:absolute;right:10px;font-size:0.7rem;font-weight:600;pointer-events:none}

/* Event markers on timeline */
.event-markers{position:absolute;bottom:40px;left:60px;right:20px;height:30px;display:flex;justify-content:space-around}
.event-marker{position:relative;cursor:pointer}
.event-marker .marker-line{width:1px;height:20px;background:var(--accent3);opacity:0.5}
.event-marker .marker-label{position:absolute;bottom:-18px;left:50%;transform:translateX(-50%);font-size:0.6rem;color:var(--accent3);white-space:nowrap}
.event-marker .marker-popup{position:absolute;bottom:25px;left:50%;transform:translateX(-50%);background:var(--bg3);border:1px solid var(--accent3);border-radius:8px;padding:0.6rem;width:200px;font-size:0.75rem;display:none;z-index:10}
.event-marker:hover .marker-popup{display:block}

/* Heatmap overlay */
.heatmap-overlay{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;opacity:0;transition:opacity 0.5s}
.heatmap-overlay.active{opacity:1}
.heat-spot{position:absolute;border-radius:50%;filter:blur(30px)}

/* ============ DATA MODE ============ */
.data-mode{display:none}
.data-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}
.data-card{background:var(--bg2);border:1px solid var(--border);border-radius:10px;padding:1rem}
.data-card .label{font-size:0.7rem;color:var(--text2);text-transform:uppercase;letter-spacing:1px;margin-bottom:0.3rem}
.data-card .value{font-size:1.5rem;font-weight:700}
.data-card .sub{font-size:0.8rem;margin-top:0.2rem}

.data-table{width:100%;border-collapse:collapse;background:var(--bg2);border:1px solid var(--border);border-radius:12px;overflow:hidden;margin-bottom:1.5rem}
.data-table th{background:var(--bg3);padding:0.7rem 1rem;text-align:left;font-size:0.75rem;color:var(--accent);text-transform:uppercase;letter-spacing:1px}
.data-table td{padding:0.6rem 1rem;border-bottom:1px solid var(--border);font-size:0.85rem;font-family:'SF Mono',monospace}
.data-table tr:last-child td{border-bottom:none}
.data-table .anomaly{background:rgba(239,68,68,0.08);animation:row-flash 2s ease infinite}
@keyframes row-flash{0%,100%{background:rgba(239,68,68,0.08)}50%{background:rgba(239,68,68,0.02)}}

/* Multi-signal panel */
.signal-panel{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:1.5rem;margin-bottom:1.5rem}
.signal-panel h3{font-size:1rem;margin-bottom:1rem;color:var(--accent)}
.signal-row{display:flex;align-items:center;gap:1rem;padding:0.6rem 0;border-bottom:1px solid var(--border)}
.signal-row:last-child{border-bottom:none}
.signal-name{width:140px;font-size:0.85rem}
.signal-meter{flex:1;height:8px;background:var(--bg3);border-radius:4px;position:relative;overflow:hidden}
.signal-fill{height:100%;border-radius:4px;transition:width 1.5s ease}
.signal-verdict{width:80px;text-align:right;font-size:0.8rem;font-weight:600}

/* History comparison overlay */
.history-overlay{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;display:none}
.history-label{position:absolute;top:10px;right:10px;background:rgba(99,102,241,0.2);color:var(--accent2);padding:0.3rem 0.8rem;border-radius:6px;font-size:0.7rem}

/* Group consensus mini */
.consensus-bar{display:flex;height:32px;border-radius:8px;overflow:hidden;margin:1rem 0}
.consensus-segment{display:flex;align-items:center;justify-content:center;font-size:0.75rem;font-weight:600;transition:width 1s ease}

/* Responsive */
@media(max-width:768px){
  .data-grid{grid-template-columns:repeat(2,1fr)}
  .alerts-grid{grid-template-columns:1fr}
  .mode-bar{flex-wrap:wrap;gap:0.5rem}
}
</style>
</head>
<body>

<!-- Mode Bar -->
<div class="mode-bar">
  <div style="display:flex;gap:1.5rem;align-items:center;flex-wrap:wrap">
    <span class="page-title">FinVerse Â· å¯è§†åŒ– Demo</span>
    <div class="mode-tabs">
      <button class="mode-tab active" onclick="switchMode('summary')">ğŸ“‹ æ‘˜è¦æ¨¡å¼</button>
      <button class="mode-tab" onclick="switchMode('chart')">ğŸ“Š å›¾è¡¨æ¨¡å¼</button>
      <button class="mode-tab" onclick="switchMode('data')">ğŸ”¢ æ•°æ®æ¨¡å¼</button>
    </div>
  </div>
  <div class="asset-selector">
    <button class="asset-btn active">BTC/USD</button>
    <button class="asset-btn">XAUUSD</button>
    <button class="asset-btn">SPY</button>
  </div>
</div>

<!-- ===================== SUMMARY MODE ===================== -->
<div class="container summary-mode" id="summaryMode">
  <!-- Hero Signal -->
  <div class="hero-card">
    <div class="signal-badge signal-bearish">âš ï¸ çŸ­æœŸåç©º</div>
    <div style="font-size:0.8rem;color:var(--text2);margin-bottom:0.5rem">BTC / USD Â· 2026.02.07</div>
    <div class="hero-price">$66,742</div>
    <div class="hero-change" style="color:var(--red)">â–¼ -1.8% Â· -$1,224 (24h)</div>
    <div class="hero-summary">
      <strong>AI ä¸€å¥è¯ï¼š</strong>é“¾ä¸Šå¤§é¢æµå…¥äº¤æ˜“æ‰€ + ä»Šæ™š CPI é£é™©ï¼ŒçŸ­æœŸåç©ºã€‚<strong style="color:var(--accent)">å…³é”®çœ‹ $67,200 æ”¯æ’‘</strong>ï¼Œè·Œç ´åˆ™ä¸‹çœ‹ $64,800ã€‚
    </div>
    <div class="signal-bars">
      <div class="signal-item">
        <div class="label">é“¾ä¸Šä¿¡å·</div>
        <div class="value" style="color:var(--red)">ğŸ”´ çœ‹ç©º</div>
        <div class="bar"><div class="bar-fill" style="width:78%;background:var(--red)"></div></div>
      </div>
      <div class="signal-item">
        <div class="label">å®è§‚ä¿¡å·</div>
        <div class="value" style="color:var(--red)">ğŸ”´ çœ‹ç©º</div>
        <div class="bar"><div class="bar-fill" style="width:72%;background:var(--red)"></div></div>
      </div>
      <div class="signal-item">
        <div class="label">æŠ€æœ¯ä¿¡å·</div>
        <div class="value" style="color:var(--accent3)">ğŸŸ¡ ä¸­æ€§</div>
        <div class="bar"><div class="bar-fill" style="width:50%;background:var(--accent3)"></div></div>
      </div>
      <div class="signal-item">
        <div class="label">å°ç»„å…±è¯†</div>
        <div class="value" style="color:var(--red)">ğŸ“‰ åç©º</div>
        <div class="bar"><div class="bar-fill" style="width:65%;background:var(--red)"></div></div>
      </div>
    </div>
  </div>

  <!-- Alerts -->
  <div class="alerts-grid">
    <div class="alert-card alert-red">
      <div class="alert-title">ğŸš¨ é“¾ä¸Šå¼‚å¸¸ï¼šäº¤æ˜“æ‰€å‡€æµå…¥æ¿€å¢</div>
      <div class="alert-desc">è¿‡å» 6h å‡€æµå…¥ 12,400 BTCï¼ˆ$827Mï¼‰ï¼Œé›†ä¸­åœ¨ Binance å’Œ Coinbaseã€‚å†å²ä¸Šæ­¤è§„æ¨¡ 5 æ¬¡ä¸­ 3 æ¬¡éšå 48h ä¸‹è·Œ >8%ã€‚</div>
      <div class="alert-time">2 å°æ—¶å‰ Â· ç½®ä¿¡åº¦ 74%</div>
    </div>
    <div class="alert-card alert-red">
      <div class="alert-title">ğŸ›ï¸ å®è§‚é£é™©ï¼šCPI å¯èƒ½è¶…é¢„æœŸ</div>
      <div class="alert-desc">ä»Šæ™š 20:30 UTC å‘å¸ƒ CPIã€‚å¸‚åœºå®šä»· 3.1%ï¼ŒCleveland Fed æ¨¡å‹é¢„æµ‹ 3.3%ã€‚è¶…é¢„æœŸå°†åˆ©ç©ºé£é™©èµ„äº§ã€‚</div>
      <div class="alert-time">4 å°æ—¶å‰ Â· ç½®ä¿¡åº¦ 68%</div>
    </div>
    <div class="alert-card alert-yellow">
      <div class="alert-title">â›ï¸ çŸ¿å·¥æŠ›å”®åŠ é€Ÿ</div>
      <div class="alert-desc">çŸ¿å·¥ 7 æ—¥å¹³å‡å‡€å–å‡ºä» 200 BTC/å¤©å‡è‡³ 580 BTC/å¤©ã€‚æŠ›å‹ä¸åªæ¥è‡ªçŸ­æœŸæŒæœ‰è€…ã€‚</div>
      <div class="alert-time">6 å°æ—¶å‰ Â· ç½®ä¿¡åº¦ 81%</div>
    </div>
    <div class="alert-card alert-green">
      <div class="alert-title">ğŸ“ æŠ€æœ¯é¢ï¼š$67,200 æ”¯æ’‘ä»åœ¨</div>
      <div class="alert-desc">4H çº§åˆ« 200MA + å‰æœŸå¯†é›†æˆäº¤åŒºæ±‡åˆäº $67,200ã€‚RSI(14) = 42ï¼Œæœªè¿›å…¥è¶…å–åŒºã€‚</div>
      <div class="alert-time">1 å°æ—¶å‰ Â· ç½®ä¿¡åº¦ 72%</div>
    </div>
  </div>

  <!-- Group Consensus -->
  <div style="background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:1.5rem">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem">
      <h3 style="font-size:1rem;color:var(--accent)">ğŸ“Š å°ç»„å…±è¯† Â· åŠ å¯†æŠ€æœ¯é¢ç ”ç©¶</h3>
      <span style="font-size:0.75rem;color:var(--text2)">8 äººå‚ä¸</span>
    </div>
    <div class="consensus-bar">
      <div class="consensus-segment" style="width:12.5%;background:rgba(16,185,129,0.3);color:var(--green)">å¤š 1</div>
      <div class="consensus-segment" style="width:25%;background:rgba(245,158,11,0.3);color:var(--accent3)">è§‚æœ› 2</div>
      <div class="consensus-segment" style="width:62.5%;background:rgba(239,68,68,0.3);color:var(--red)">ç©º 5</div>
    </div>
    <div style="font-size:0.82rem;color:var(--text2);margin-top:0.5rem">ä¸»è¦åˆ†æ­§ï¼šæ”¯æ’‘ä½æ˜¯å¦èƒ½æ‰›ä½ CPI å†²å‡»ã€‚å¤šæ•°è®¤ä¸ºåº”ç­‰æ•°æ®å‡ºæ¥å†è¡ŒåŠ¨ã€‚</div>
  </div>
</div>

<!-- ===================== CHART MODE ===================== -->
<div class="container" id="chartMode" style="display:none">
  <div class="chart-container">
    <div class="chart-toolbar">
      <div class="tf-tabs">
        <button class="tf">1m</button>
        <button class="tf">5m</button>
        <button class="tf">15m</button>
        <button class="tf">1H</button>
        <button class="tf active">4H</button>
        <button class="tf">1D</button>
        <button class="tf">1W</button>
      </div>
      <div class="layer-toggles">
        <label class="layer-toggle active" style="color:var(--accent)" onclick="toggleLayer('ai')">
          <span class="dot" style="background:var(--accent)"></span> AI æ ‡æ³¨
        </label>
        <label class="layer-toggle active" style="color:var(--accent3)" onclick="toggleLayer('events')">
          <span class="dot" style="background:var(--accent3)"></span> å®è§‚äº‹ä»¶
        </label>
        <label class="layer-toggle active" style="color:var(--accent2)" onclick="toggleLayer('onchain')">
          <span class="dot" style="background:var(--accent2)"></span> é“¾ä¸Šæ•°æ®
        </label>
        <label class="layer-toggle" style="color:var(--red)" onclick="toggleLayer('heatmap')">
          <span class="dot" style="background:var(--red)"></span> å¼‚å¸¸çƒ­åŠ›å›¾
        </label>
        <label class="layer-toggle" style="color:#818cf8" onclick="toggleLayer('history')">
          <span class="dot" style="background:#818cf8"></span> å†å²å å½±
        </label>
      </div>
    </div>

    <div class="chart-canvas" id="chartCanvas">
      <canvas id="mainChart"></canvas>

      <!-- Support/Resistance zones -->
      <div class="zone" style="top:28%;height:3%;background:var(--red)" id="zoneResist"></div>
      <div class="zone-label" style="top:27%;color:var(--red)">é˜»åŠ› $69,800</div>
      <div class="zone" style="top:58%;height:3%;background:var(--green)" id="zoneSupport1"></div>
      <div class="zone-label" style="top:57%;color:var(--green)">æ”¯æ’‘ $67,200 â˜…</div>
      <div class="zone" style="top:78%;height:2%;background:rgba(16,185,129,0.5)" id="zoneSupport2"></div>
      <div class="zone-label" style="top:77%;color:var(--green);opacity:0.6">æ¬¡çº§æ”¯æ’‘ $64,800</div>

      <!-- AI Annotations -->
      <div class="ai-annotations" id="aiLayer">
        <div class="annotation-point" style="left:25%;top:35%">
          <div class="annotation-dot" style="background:rgba(239,68,68,0.3);color:var(--red);animation-name:pulse-red">!</div>
          <div class="annotation-popup">
            <div style="color:var(--red);font-weight:600">ğŸ”´ å‡çªç ´ä¿¡å·</div>
            <div class="reason">ä»·æ ¼çªç ´ $69,800 åå¿«é€Ÿå›è½ï¼Œæˆäº¤é‡æœªé…åˆã€‚ç»å…¸çš„å‡çªç ´å½¢æ€ï¼ŒAI è¯†åˆ«ç½®ä¿¡åº¦ 83%ã€‚</div>
            <div class="confidence">
              <span style="color:var(--text2)">ç½®ä¿¡åº¦</span>
              <span style="display:inline-block;width:80px;height:4px;background:var(--bg);border-radius:2px;vertical-align:middle;margin-left:0.3rem">
                <span style="display:block;width:83%;height:100%;background:var(--red);border-radius:2px"></span>
              </span>
              <span style="color:var(--red)"> 83%</span>
            </div>
          </div>
        </div>

        <div class="annotation-point" style="left:58%;top:55%">
          <div class="annotation-dot" style="background:rgba(0,212,170,0.3);color:var(--accent)">â˜…</div>
          <div class="annotation-popup">
            <div style="color:var(--accent);font-weight:600">ğŸŸ¢ å…³é”®æ”¯æ’‘æ±‡åˆ</div>
            <div class="reason">ä¸‰é‡æ”¯æ’‘æ±‡åˆï¼š<br>â‘  200 å‘¨æœŸ MA ($67,180)<br>â‘¡ å‰æœŸå¯†é›†æˆäº¤åŒº<br>â‘¢ æ–æ³¢é‚£å¥‘ 0.382<br>æ­¤å¤„å¤šæ¬¡åå¼¹ï¼Œä¸ºå½“å‰æœ€å…³é”®ä»·ä½ã€‚</div>
            <div class="confidence">
              <span style="color:var(--text2)">ç½®ä¿¡åº¦</span>
              <span style="display:inline-block;width:80px;height:4px;background:var(--bg);border-radius:2px;vertical-align:middle;margin-left:0.3rem">
                <span style="display:block;width:91%;height:100%;background:var(--accent);border-radius:2px"></span>
              </span>
              <span style="color:var(--accent)"> 91%</span>
            </div>
          </div>
        </div>

        <div class="annotation-point" style="left:78%;top:48%">
          <div class="annotation-dot" style="background:rgba(245,158,11,0.3);color:var(--accent3)">?</div>
          <div class="annotation-popup">
            <div style="color:var(--accent3);font-weight:600">ğŸŸ¡ æ–¹å‘é€‰æ‹©ç‚¹</div>
            <div class="reason">ä¸‰è§’å½¢æ”¶æ•›æœ«ç«¯ï¼Œå³å°†çªç ´ã€‚<br>å‘ä¸Šçªç ´ç›®æ ‡ $71,200<br>å‘ä¸‹ç ´ä½ç›®æ ‡ $64,800<br>CPI æ•°æ®å¯èƒ½æˆä¸ºå‚¬åŒ–å‰‚ã€‚</div>
            <div class="confidence">
              <span style="color:var(--text2)">æ–¹å‘ä¸ç¡®å®š</span>
              <span style="display:inline-block;width:80px;height:4px;background:var(--bg);border-radius:2px;vertical-align:middle;margin-left:0.3rem">
                <span style="display:block;width:50%;height:100%;background:var(--accent3);border-radius:2px"></span>
              </span>
              <span style="color:var(--accent3)"> 50/50</span>
            </div>
          </div>
        </div>

        <div class="annotation-point" style="left:42%;top:42%">
          <div class="annotation-dot" style="background:rgba(99,102,241,0.3);color:var(--accent2);font-size:0.6rem">â›“</div>
          <div class="annotation-popup">
            <div style="color:var(--accent2);font-weight:600">â›“ é“¾ä¸Šå¼‚å¸¸</div>
            <div class="reason">æ­¤å¤„å‡ºç°å¤§é¢äº¤æ˜“æ‰€æµå…¥ï¼ˆ4,200 BTC å•ç¬”è½¬å…¥ Binanceï¼‰ã€‚ä»·æ ¼éšååŠ é€Ÿä¸‹è·Œã€‚é“¾ä¸Š â†’ ä»·æ ¼çš„ä¼ å¯¼æ—¶é—´çº¦ 4 å°æ—¶ã€‚</div>
            <div class="confidence">
              <span style="color:var(--text2)">å…³è”åº¦</span>
              <span style="display:inline-block;width:80px;height:4px;background:var(--bg);border-radius:2px;vertical-align:middle;margin-left:0.3rem">
                <span style="display:block;width:76%;height:100%;background:var(--accent2);border-radius:2px"></span>
              </span>
              <span style="color:var(--accent2)"> 76%</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Event Markers -->
      <div class="event-markers" id="eventsLayer">
        <div class="event-marker" style="left:15%">
          <div class="marker-line"></div>
          <div class="marker-label">FOMC çºªè¦</div>
          <div class="marker-popup">
            <div style="color:var(--accent3);font-weight:600">ğŸ›ï¸ FOMC ä¼šè®®çºªè¦å‘å¸ƒ</div>
            <div style="color:var(--text2);margin-top:0.3rem">é¹°æ´¾ä¿¡å· 7.2/10ï¼Œé«˜äºé¢„æœŸã€‚å¸‚åœºéšåä¸‹è¡Œã€‚</div>
          </div>
        </div>
        <div class="event-marker" style="left:50%">
          <div class="marker-line"></div>
          <div class="marker-label">éå†œæ•°æ®</div>
          <div class="marker-popup">
            <div style="color:var(--accent3);font-weight:600">ğŸ“Š éå†œå°±ä¸šæ•°æ®</div>
            <div style="color:var(--text2);margin-top:0.3rem">æ–°å¢ 25.6 ä¸‡ï¼Œè¶…é¢„æœŸã€‚ç¾å…ƒèµ°å¼ºï¼ŒBTC æ‰¿å‹ã€‚</div>
          </div>
        </div>
        <div class="event-marker" style="left:85%">
          <div class="marker-line" style="background:var(--red)"></div>
          <div class="marker-label" style="color:var(--red)">âš¡ ä»Šæ™š CPI</div>
          <div class="marker-popup" style="border-color:var(--red)">
            <div style="color:var(--red);font-weight:600">ğŸš¨ CPI æ•°æ® Â· 20:30 UTC</div>
            <div style="color:var(--text2);margin-top:0.3rem">é¢„æœŸ 3.1%ï¼Œæ¨¡å‹é¢„æµ‹ 3.3%ã€‚è¶…é¢„æœŸæ¦‚ç‡ 62%ã€‚è¿™æ˜¯å½“å‰æœ€å¤§å‚¬åŒ–å‰‚ã€‚</div>
          </div>
        </div>
      </div>

      <!-- Heatmap Overlay -->
      <div class="heatmap-overlay" id="heatmapLayer">
        <div class="heat-spot" style="width:200px;height:200px;background:rgba(239,68,68,0.3);left:35%;top:25%"></div>
        <div class="heat-spot" style="width:150px;height:150px;background:rgba(239,68,68,0.4);left:70%;top:35%"></div>
        <div class="heat-spot" style="width:120px;height:120px;background:rgba(0,212,170,0.3);left:55%;top:55%"></div>
        <div class="heat-spot" style="width:180px;height:100px;background:rgba(245,158,11,0.25);left:80%;top:60%"></div>
      </div>

      <!-- History Overlay -->
      <div class="history-overlay" id="historyLayer">
        <div class="history-label">ğŸ“ å†å²å å½± Â· 2025-11-18 å½¢æ€ï¼ˆç›¸ä¼¼åº¦ 84%ï¼‰</div>
        <svg width="100%" height="100%" style="position:absolute;top:0;left:0">
          <path d="M60,200 Q150,180 200,220 T350,190 Q400,160 450,200 T550,170 Q600,150 650,180 T750,160 Q800,140 850,170 T950,150" stroke="#818cf8" fill="none" stroke-width="2" stroke-dasharray="8,4" opacity="0.5"/>
          <text x="960" y="148" fill="#818cf8" font-size="11">2025-11 èµ°åŠ¿</text>
        </svg>
      </div>
    </div>
  </div>

  <!-- AI Reasoning Panel -->
  <div style="background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:1.5rem">
    <h3 style="font-size:1rem;margin-bottom:1rem;color:var(--accent)">ğŸ§  AI æ¨ç†é“¾ Â· ä¸ºä»€ä¹ˆåˆ¤æ–­åç©ºï¼Ÿ</h3>
    <div style="display:grid;gap:0.8rem">
      <div style="display:flex;align-items:flex-start;gap:1rem;padding:0.8rem;background:var(--bg);border-radius:8px">
        <div style="color:var(--red);font-size:1.2rem;flex-shrink:0">â‘ </div>
        <div>
          <div style="font-weight:600;font-size:0.9rem">é“¾ä¸Šæ•°æ®å¼‚å¸¸</div>
          <div style="color:var(--text2);font-size:0.82rem;margin-top:0.2rem">äº¤æ˜“æ‰€å‡€æµå…¥ 12,400 BTCã€‚å†å²å›æµ‹ï¼šæ­¤è§„æ¨¡å‡ºç°å 48h å†…ä¸‹è·Œæ¦‚ç‡ 60%ï¼Œå¹³å‡è·Œå¹… 8.3%ã€‚</div>
        </div>
        <div style="color:var(--red);font-size:0.8rem;white-space:nowrap">æƒé‡ 30%</div>
      </div>
      <div style="display:flex;align-items:flex-start;gap:1rem;padding:0.8rem;background:var(--bg);border-radius:8px">
        <div style="color:var(--red);font-size:1.2rem;flex-shrink:0">â‘¡</div>
        <div>
          <div style="font-weight:600;font-size:0.9rem">å®è§‚ç¯å¢ƒåˆ©ç©º</div>
          <div style="color:var(--text2);font-size:0.82rem;margin-top:0.2rem">CPI è¶…é¢„æœŸæ¦‚ç‡ 62% + DXY çªç ´ 104.2ã€‚å†å²ä¸Šè¯¥ç»„åˆå‡ºç°å BTC 72h å¹³å‡è·Œå¹… 6.3%ã€‚</div>
        </div>
        <div style="color:var(--red);font-size:0.8rem;white-space:nowrap">æƒé‡ 35%</div>
      </div>
      <div style="display:flex;align-items:flex-start;gap:1rem;padding:0.8rem;background:var(--bg);border-radius:8px">
        <div style="color:var(--accent3);font-size:1.2rem;flex-shrink:0">â‘¢</div>
        <div>
          <div style="font-weight:600;font-size:0.9rem">æŠ€æœ¯é¢æ”¯æ’‘å°šåœ¨</div>
          <div style="color:var(--text2);font-size:0.82rem;margin-top:0.2rem">$67,200 ä¸‰é‡æ”¯æ’‘æ±‡åˆæœªç ´ã€‚RSI 42 æœªè¶…å–ã€‚å¦‚æœæ”¯æ’‘æœ‰æ•ˆï¼Œå¯èƒ½æ˜¯è¯±ç©ºã€‚</div>
        </div>
        <div style="color:var(--accent3);font-size:0.8rem;white-space:nowrap">æƒé‡ 20%</div>
      </div>
      <div style="display:flex;align-items:flex-start;gap:1rem;padding:0.8rem;background:var(--bg);border-radius:8px">
        <div style="color:var(--red);font-size:1.2rem;flex-shrink:0">â‘£</div>
        <div>
          <div style="font-weight:600;font-size:0.9rem">çŸ¿å·¥æŠ›å”® + å½¢æ€ç›¸ä¼¼åº¦</div>
          <div style="color:var(--text2);font-size:0.82rem;margin-top:0.2rem">çŸ¿å·¥å‡€å–å‡º 580 BTC/å¤©ã€‚å½“å‰å½¢æ€ä¸ 2025-11-18 ç›¸ä¼¼åº¦ 84%ï¼Œå½“æ—¶éšåè·Œäº† 11%ã€‚</div>
        </div>
        <div style="color:var(--red);font-size:0.8rem;white-space:nowrap">æƒé‡ 15%</div>
      </div>
    </div>
    <div style="margin-top:1.2rem;padding:1rem;background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.2);border-radius:8px;font-size:0.85rem">
      <strong style="color:var(--red)">ç»¼åˆè¯„åˆ†ï¼šåç©º 72%</strong>
      <span style="color:var(--text2);margin-left:1rem">âš ï¸ æ­¤ä¸º AI åˆ†æï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚æœ€ç»ˆå†³ç­–ç”±ä½ åšå‡ºã€‚</span>
    </div>
  </div>
</div>

<!-- ===================== DATA MODE ===================== -->
<div class="container data-mode" id="dataMode">
  <div class="data-grid">
    <div class="data-card">
      <div class="label">ä»·æ ¼</div>
      <div class="value">$66,742</div>
      <div class="sub" style="color:var(--red)">â–¼ -1.8%</div>
    </div>
    <div class="data-card">
      <div class="label">24H æˆäº¤é‡</div>
      <div class="value">$38.2B</div>
      <div class="sub" style="color:var(--red)">â–² +42% å¼‚å¸¸</div>
    </div>
    <div class="data-card">
      <div class="label">æœªå¹³ä»“åˆçº¦</div>
      <div class="value">$21.7B</div>
      <div class="sub" style="color:var(--accent3)">â–² +3.2%</div>
    </div>
    <div class="data-card">
      <div class="label">ææƒ§è´ªå©ªæŒ‡æ•°</div>
      <div class="value">38</div>
      <div class="sub" style="color:var(--accent3)">ææƒ§</div>
    </div>
    <div class="data-card">
      <div class="label">èµ„é‡‘è´¹ç‡</div>
      <div class="value">-0.012%</div>
      <div class="sub" style="color:var(--green)">ç©ºå¤´ä»˜è´¹</div>
    </div>
    <div class="data-card">
      <div class="label">äº¤æ˜“æ‰€å‡€æµå…¥</div>
      <div class="value" style="color:var(--red)">+12,400</div>
      <div class="sub" style="color:var(--red)">âš ï¸ 6h å¼‚å¸¸</div>
    </div>
    <div class="data-card">
      <div class="label">çŸ¿å·¥å‡€å–å‡º</div>
      <div class="value">580/å¤©</div>
      <div class="sub" style="color:var(--red)">â–² 190% åŠ é€Ÿ</div>
    </div>
    <div class="data-card">
      <div class="label">DXY ç¾å…ƒæŒ‡æ•°</div>
      <div class="value">104.35</div>
      <div class="sub" style="color:var(--red)">çªç ´é˜»åŠ›</div>
    </div>
  </div>

  <!-- Signal Panel -->
  <div class="signal-panel">
    <h3>ğŸ“¡ å¤šç»´ä¿¡å·é¢æ¿</h3>
    <div class="signal-row">
      <div class="signal-name">é“¾ä¸Šä¿¡å·</div>
      <div class="signal-meter"><div class="signal-fill" style="width:78%;background:linear-gradient(90deg,var(--accent3),var(--red))"></div></div>
      <div class="signal-verdict" style="color:var(--red)">çœ‹ç©º 78%</div>
    </div>
    <div class="signal-row">
      <div class="signal-name">å®è§‚ä¿¡å·</div>
      <div class="signal-meter"><div class="signal-fill" style="width:72%;background:linear-gradient(90deg,var(--accent3),var(--red))"></div></div>
      <div class="signal-verdict" style="color:var(--red)">çœ‹ç©º 72%</div>
    </div>
    <div class="signal-row">
      <div class="signal-name">æŠ€æœ¯é¢ä¿¡å·</div>
      <div class="signal-meter"><div class="signal-fill" style="width:50%;background:var(--accent3)"></div></div>
      <div class="signal-verdict" style="color:var(--accent3)">ä¸­æ€§ 50%</div>
    </div>
    <div class="signal-row">
      <div class="signal-name">å¸‚åœºæƒ…ç»ª</div>
      <div class="signal-meter"><div class="signal-fill" style="width:65%;background:linear-gradient(90deg,var(--accent3),var(--red))"></div></div>
      <div class="signal-verdict" style="color:var(--red)">ææƒ§ 65%</div>
    </div>
    <div class="signal-row">
      <div class="signal-name">å°ç»„å…±è¯†</div>
      <div class="signal-meter"><div class="signal-fill" style="width:63%;background:linear-gradient(90deg,var(--accent3),var(--red))"></div></div>
      <div class="signal-verdict" style="color:var(--red)">åç©º 63%</div>
    </div>
    <div class="signal-row" style="border-top:2px solid var(--border);padding-top:1rem;margin-top:0.5rem">
      <div class="signal-name" style="font-weight:700">ç»¼åˆè¯„åˆ†</div>
      <div class="signal-meter"><div class="signal-fill" style="width:72%;background:linear-gradient(90deg,var(--accent3),var(--red))"></div></div>
      <div class="signal-verdict" style="color:var(--red);font-size:0.9rem">åç©º 72%</div>
    </div>
  </div>

  <!-- Data Table -->
  <table class="data-table">
    <thead>
      <tr><th>æŒ‡æ ‡</th><th>å½“å‰å€¼</th><th>24H å˜åŒ–</th><th>7D å˜åŒ–</th><th>çŠ¶æ€</th></tr>
    </thead>
    <tbody>
      <tr class="anomaly"><td>äº¤æ˜“æ‰€å‡€æµå…¥ (BTC)</td><td>+12,400</td><td style="color:var(--red)">+340%</td><td style="color:var(--red)">+520%</td><td style="color:var(--red)">âš ï¸ å¼‚å¸¸</td></tr>
      <tr class="anomaly"><td>çŸ¿å·¥å‡€å–å‡º (BTC/å¤©)</td><td>580</td><td style="color:var(--red)">+45%</td><td style="color:var(--red)">+190%</td><td style="color:var(--red)">âš ï¸ å¼‚å¸¸</td></tr>
      <tr><td>æ´»è·ƒåœ°å€æ•°</td><td>892,341</td><td style="color:var(--red)">-3.2%</td><td style="color:var(--red)">-8.1%</td><td style="color:var(--accent3)">åä½</td></tr>
      <tr><td>å¤§é¢è½¬è´¦ (>100 BTC)</td><td>847 ç¬”</td><td style="color:var(--red)">+28%</td><td style="color:var(--red)">+45%</td><td style="color:var(--accent3)">åé«˜</td></tr>
      <tr><td>NUPL</td><td>0.42</td><td>-0.02</td><td>-0.05</td><td style="color:var(--green)">æ­£å¸¸</td></tr>
      <tr><td>MVRV Z-Score</td><td>1.8</td><td>-0.1</td><td>-0.3</td><td style="color:var(--green)">æ­£å¸¸</td></tr>
      <tr><td>ç¨³å®šå¸äº¤æ˜“æ‰€ä½™é¢</td><td>$24.8B</td><td style="color:var(--green)">+1.2%</td><td style="color:var(--green)">+3.8%</td><td style="color:var(--green)">ä¹°åŠ›å‚¨å¤‡</td></tr>
    </tbody>
  </table>
</div>

<script>
// Draw candlestick chart
function drawChart(){
  const canvas=document.getElementById('mainChart');
  const ctx=canvas.getContext('2d');
  const rect=canvas.parentElement.getBoundingClientRect();
  canvas.width=rect.width*2;canvas.height=rect.height*2;
  ctx.scale(2,2);
  const w=rect.width,h=rect.height;

  // Generate fake OHLC data
  const candles=[];
  let price=68500;
  for(let i=0;i<60;i++){
    const open=price;
    const change=(Math.random()-0.52)*800;
    const close=open+change;
    const high=Math.max(open,close)+Math.random()*400;
    const low=Math.min(open,close)-Math.random()*400;
    candles.push({o:open,h:high,l:low,c:close});
    price=close;
  }

  const minP=Math.min(...candles.map(c=>c.l))-500;
  const maxP=Math.max(...candles.map(c=>c.h))+500;
  const toY=p=>30+(1-(p-minP)/(maxP-minP))*(h-70);
  const cw=(w-80)/candles.length;

  // Grid
  ctx.strokeStyle='#1e2d4a';ctx.lineWidth=0.5;
  for(let i=0;i<6;i++){
    const y=30+i*(h-70)/5;
    ctx.beginPath();ctx.moveTo(60,y);ctx.lineTo(w-10,y);ctx.stroke();
    const p=maxP-(i/5)*(maxP-minP);
    ctx.fillStyle='#8b9dc3';ctx.font='10px monospace';
    ctx.fillText('$'+Math.round(p).toLocaleString(),5,y+4);
  }

  // Volume bars (subtle)
  candles.forEach((c,i)=>{
    const x=60+i*cw;
    const vol=20+Math.random()*30;
    ctx.fillStyle=c.c>=c.o?'rgba(16,185,129,0.15)':'rgba(239,68,68,0.15)';
    ctx.fillRect(x+2,h-35,cw-4,-(vol));
  });

  // 200MA line
  ctx.beginPath();ctx.strokeStyle='rgba(0,212,170,0.4)';ctx.lineWidth=1.5;
  let maSum=0;
  candles.forEach((c,i)=>{
    maSum+=c.c;
    if(i>=5){
      const ma=maSum/Math.min(i+1,20);
      const x=60+i*cw+cw/2;
      const y=toY(ma+(i<30?200:-300));
      if(i===5)ctx.moveTo(x,y);else ctx.lineTo(x,y);
    }
  });
  ctx.stroke();

  // Candlesticks
  candles.forEach((c,i)=>{
    const x=60+i*cw;
    const isUp=c.c>=c.o;
    ctx.fillStyle=isUp?'#10b981':'#ef4444';
    ctx.strokeStyle=isUp?'#10b981':'#ef4444';
    ctx.lineWidth=1;

    // Wick
    ctx.beginPath();
    ctx.moveTo(x+cw/2,toY(c.h));
    ctx.lineTo(x+cw/2,toY(c.l));
    ctx.stroke();

    // Body
    const bodyTop=toY(Math.max(c.o,c.c));
    const bodyH=Math.max(1,Math.abs(toY(c.o)-toY(c.c)));
    if(isUp){
      ctx.strokeRect(x+3,bodyTop,cw-6,bodyH);
    }else{
      ctx.fillRect(x+3,bodyTop,cw-6,bodyH);
    }
  });

  // Current price line
  const lastPrice=candles[candles.length-1].c;
  const cy=toY(lastPrice);
  ctx.setLineDash([4,4]);ctx.strokeStyle='var(--text)';ctx.lineWidth=1;
  ctx.beginPath();ctx.moveTo(60,cy);ctx.lineTo(w-10,cy);ctx.stroke();
  ctx.setLineDash([]);
  ctx.fillStyle='#e2e8f0';ctx.font='bold 11px monospace';
  ctx.fillText('$'+Math.round(lastPrice).toLocaleString(),w-75,cy-5);
}

// Mode switching
function switchMode(mode){
  document.querySelectorAll('.mode-tab').forEach(t=>t.classList.remove('active'));
  event.target.classList.add('active');
  document.getElementById('summaryMode').style.display=mode==='summary'?'block':'none';
  document.getElementById('chartMode').style.display=mode==='chart'?'block':'none';
  document.getElementById('dataMode').style.display=mode==='data'?'block':'none';
  if(mode==='chart')setTimeout(drawChart,100);
}

// Layer toggles
function toggleLayer(layer){
  const el=event.target.closest('.layer-toggle');
  el.classList.toggle('active');
  const layerEl=document.getElementById(layer+'Layer');
  if(layerEl){
    if(layer==='heatmap'){
      layerEl.classList.toggle('active');
    }else if(layer==='history'){
      layerEl.style.display=layerEl.style.display==='block'?'none':'block';
    }else{
      layerEl.style.display=layerEl.style.display==='none'?'block':'none';
    }
  }
}

// Init
window.addEventListener('resize',()=>{
  if(document.getElementById('chartMode').style.display!=='none')drawChart();
});
</script>

</body>
</html>
